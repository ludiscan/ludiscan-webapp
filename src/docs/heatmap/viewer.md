---
group: heatmap
title: ヒートマップビューアー
order: 3
description: ヒートマップビューアーの詳細な使い方
---

# ヒートマップビューアー

ヒートマップビューアーは、ゲームプレイデータを3D/2Dマップ上に可視化するメイン機能です。このページでは、ビューアーの各機能と操作方法について詳しく説明します。

## 画面構成

ヒートマップビューアーは以下の要素で構成されています：

### メインキャンバス（中央）
3D/2Dマップとヒートマップが表示される領域です。マウスやキーボードで自由にカメラを動かして、様々な角度からデータを確認できます。

### サイドバー（左）
各種設定メニューにアクセスできます：

- **Info** - プロジェクト情報、スクリーンショット
- **General** - 基本設定（ヒートマップ表示、2D/3D切替など）
- **Map** - マップ管理、3Dモデル位置調整
- **Hotspot** - ホットスポット表示設定
- **EventLog** - イベントログ管理
- **FieldObject** - フィールドオブジェクト管理
- **Timeline** - プレイヤータイムライン
- **Route Coach** - AIによる改善提案
- **Aggregation** - データ集計・フィルタ

### イベントログパネル（右上）
- イベント一覧がタイプ別にセクション化
- 折りたたみ/展開が可能
- クリックでタイムラインにジャンプ

### タイムライン（下部）
- 再生バーで時間操作
- 再生/一時停止ボタン

## レイヤー管理

3Dモデルのオブジェクトを個別に管理できます。

### 機能
- **表示/非表示**: 各オブジェクトの目アイコンでON/OFF
- **透明度**: 2段階（100% / 50%）の切り替え
- **一括操作**: すべて表示/非表示、一括透明度変更

### 操作方法
1. Mapメニューを開く
2. モデルのオブジェクト一覧が表示される
3. 各項目の目アイコンで表示/非表示を切り替え
4. 透明度アイコンで半透明表示に切り替え

設定は自動的に保存され、次回アクセス時も維持されます。

## フィルタ機能

複数のフィルタでデータを絞り込めます。

### セッションフィルター
Generalメニューで特定セッションのみを表示：
- 「セッションでフィルター」ボタンで素早く適用

### プレイヤーフィルター
EventLogメニューで特定プレイヤーのイベントのみを表示：
- プレイヤー番号（0-3）を選択

### 集計フィルター（Aggregationメニュー）
詳細な条件でフィルタリング：
- **プラットフォーム** - 特定プラットフォームのデータ
- **アプリバージョン** - 特定バージョンのデータ
- **ステータス** - Playing / Finished
- **日付範囲** - 開始日時と終了日時を指定
- **メタデータ** - キーと値でフィルタ

## 可視化設定

Generalメニューでヒートマップの表示をカスタマイズできます。

### 基本設定
| 設定 | 説明 |
|-----|------|
| **ヒートマップ表示** | ヒートマップのON/OFF |
| **不透明度** | ヒートマップの透明度（0.0〜1.0） |
| **表示タイプ** | object / fill の選択 |
| **スケール** | 全体のスケール（0.1〜1.0） |
| **最小閾値** | 表示する強度の最小値（0〜1.0） |

### 表示オプション
| 設定 | 説明 |
|-----|------|
| **上向きベクトル** | Y軸 / Z軸の選択 |
| **FPS表示** | パフォーマンス統計の表示 |
| **接地影** | アンビエントオクルージョンの表示 |
| **2Dマップ表示** | 2Dモードでのマップ表示 |

### ホットスポット設定（Hotspotメニュー）
| 設定 | 説明 |
|-----|------|
| **表示** | ホットスポットのON/OFF |
| **セル半径** | 検出範囲（50〜1000） |
| **表示数** | 表示するホットスポット数（1〜20） |
| **重複除外** | 近い位置の重複を除外 |

### 背景画像設定
- ローカルファイルから背景画像を選択
- スケール調整（0.5〜3.0）
- X/Yオフセット調整（-50〜50）

### 3Dモデル位置調整（Mapメニュー）
- **位置（Position）**: X, Y, Z座標をドラッグで調整
- **回転（Rotation）**: X, Y, Z回転角度（-180〜180度）
- **リセット**: デフォルト位置に戻す

## イベントログ

### イベントログパネル（右上）
- イベントタイプ別にセクション化
- 各セクションは展開/折りたたみ可能
- タイムスタンプ（mm:ss.SSS形式）とプレイヤー番号を表示
- イベントをクリックするとタイムラインがその時刻にジャンプ

### イベントログメニュー
- **表示/非表示**: 各イベントタイプのスイッチでON/OFF
- **カラー設定**: カラーピッカーでイベントの色を変更
- **アイコン設定**: イベントごとにアイコンを選択

## スクリーンショット

現在の表示を画像として保存できます。

1. サイドバーのInfoメニューを開く
2. 「スクリーンショット」ボタンをクリック
3. 画像が自動的にダウンロードされます

## パフォーマンス

### FPS表示
GeneralメニューでFPS統計表示をONにすると、フレームレートを確認できます。

### 自動品質調整
パフォーマンスに応じて描画品質（Device Pixel Ratio）が自動調整されます：
- フレームレートが低い場合 → 品質を下げて軽量化
- フレームレートが高い場合 → 品質を上げて高精細に

### パフォーマンス改善のヒント
- 2Dモードに切り替える
- 不要なレイヤーを非表示にする
- フィルタでデータ量を減らす
- ブラウザの他のタブを閉じる

## 2D/3Dモード

### 切り替え方法
GeneralメニューまたはTabキーで2D/3Dを切り替えられます。

### モードの特徴
- **2D**: 真上からの俯瞰視点、軽快な動作
- **3D**: 斜め視点、立体的な確認が可能

## 次のステップ

ビューアーの基本的な使い方を理解したら、以下のページで詳細な機能を学びましょう：

- [カメラ操作](/heatmap/docs/heatmap/controls) - カメラの詳細な操作方法
- [表示モード](/heatmap/docs/heatmap/visualization) - 2D/3Dモードの詳細
- [タイムライン機能](/heatmap/docs/heatmap/timeline) - タイムラインの詳細な使い方
- [Route Coach](/heatmap/docs/heatmap/route-coach) - AIによる改善提案
